(function(a,b){'use strict';function c(){return null===n&&(n=b.Mustache,void 0===n&&a.error('Failed to locate Mustache instance, are you sure it has been loaded?')),n}function d(p){return void 0!==m[p]}function e(p,q){return!o.allowOverwrite&&d(p)?void a.error('TemplateName: '+p+' is already mapped.'):void(m[p]=a.trim(q))}function j(p,q){return d(p)?c().to_html(m[p],q,m):(o.warnOnMissingTemplates&&a.error('No template registered for: '+p),'')}var m={},n=null,o={warnOnMissingTemplates:!1,allowOverwrite:!0,domTemplateType:'text/html',externalTemplateDataType:'text'};a.Mustache={options:o,load:function(p,q){return a.ajax({url:p,dataType:o.externalTemplateDataType}).done(function(r){a(r).filter('script').each(function(s,t){e(t.id,a(t).html())}),a.isFunction(q)&&q()})},has:d,add:e,addFromDom:function(){var p;p=0===arguments.length?a('script[type="'+o.domTemplateType+'"]').map(function(){return this.id}):a.makeArray(arguments),a.each(p,function(){var q=document.getElementById(this);null===q?a.error('No such elementId: #'+this):e(this,a(q).html())})},remove:function(p){var q=m[p];return delete m[p],q},clear:function(){m={},c().clearCache()},render:j,templates:function(){return a.map(m,function(p,q){return q})},instance:n},a.fn.mustache=function(p,q,r){var s=a.extend({method:'append'},r),t=function(u,v){a(u)[s.method](j(p,v))};return this.each(function(){var u=this;a.isArray(q)?a.each(q,function(){t(u,this)}):t(u,q)})}})(jQuery,window);